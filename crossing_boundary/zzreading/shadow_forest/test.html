<div id="loadingOverlay">
    <div id="loadingSpinner"></div>
</div>
<div id="content" style="display: none;">
    <!-- 主要网页内容 -->
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        // 等待页面加载完成后隐藏loadingOverlay，显示主要网页内容
        $('#loadingOverlay').fadeOut(500, function () {
            $('#content').fadeIn(500);
        });
    });

    // 创建loadingSpinner的canvas元素
    var canvas = document.createElement('canvas');
    canvas.width = 60;
    canvas.height = 60;
    var ctx = canvas.getContext('2d');
    var r = 20;
    ctx.lineWidth = 4;
    ctx.strokeStyle = '#ffffff';
    ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';
    ctx.beginPath();
    ctx.arc(30, 30, r, 0, 2 * Math.PI);
    ctx.fill();

    // 定义动画函数
    var animate = function () {
        // 清空canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        // 绘制圆环
        ctx.beginPath();
        ctx.arc(30, 30, r, -0.5 * Math.PI, (2 * t - 0.5) * Math.PI);
        ctx.stroke();
        // 更新t值
        t += 0.02;
        if (t > 1) {
            t -= 1;
        }
    };

    // 添加loadingSpinner元素到loadingOverlay中
    var loadingSpinner = document.createElement('div');
    loadingSpinner.id = 'loadingSpinner';
    loadingSpinner.appendChild(canvas);
    document.getElementById('loadingOverlay').appendChild(loadingSpinner);

    // 定义动画循环
    var t = 0;
    setInterval(animate, 20);
</script>